{"version":3,"sources":["../../../../../../apps/web/src/app/%5Blocale%5D/profile/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useCallback, useRef, FormEvent } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Image from 'next/image';\n\nconst API = process.env.NEXT_PUBLIC_API_URL || 'https://api.saubh.tech/api';\n\nconst GENDER_MAP: Record<string, string> = { M: 'Male', F: 'Female', T: 'Transgender', O: 'Other' };\nconst GENDER_OPTIONS = Object.entries(GENDER_MAP);\n\nconst USERTYPE_MAP: Record<string, string> = { BO: 'Business Owner', CL: 'Client', GW: 'Gig Worker' };\nconst USERTYPE_OPTIONS = Object.entries(USERTYPE_MAP);\n\nconst TOTAL_REQUIRED = 16;\n\n// â”€â”€â”€ Types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\ninterface UserProfile {\n  userid: string; whatsapp: string; fname: string; lname: string | null;\n  email: string | null; phone: string | null; pic: string | null;\n  gender: string | null; dob: string | null; langid: number[];\n  qualification: string | null; experience: string | null; usertype: string;\n  countryCode: string | null; stateid: number | null; districtid: number | null;\n  pincode: string | null; placeid: string | null;\n}\n\ninterface MasterItem { [key: string]: any; }\n\n// â”€â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nfunction getCookie(name: string): string | null {\n  if (typeof document === 'undefined') return null;\n  const m = document.cookie.match(new RegExp(`(?:^|; )${name}=([^;]*)`));\n  return m ? decodeURIComponent(m[1]) : null;\n}\n\nfunction calcProgress(u: {\n  fname?: string; lname?: string; email?: string; phone?: string;\n  gender?: string; dob?: string; langid?: number[]; qualification?: string;\n  experience?: string; usertype?: string; stateid?: number | null;\n  districtid?: number | null; pincode?: string; placeid?: number | null;\n  pic?: string | null;\n}, photoFile: File | null): number {\n  let filled = 0;\n  if (u.fname) filled++;\n  if (u.lname) filled++;\n  if (u.email) filled++;\n  if (u.phone) filled++;\n  if (u.gender) filled++;\n  if (u.dob) filled++;\n  if (u.langid && u.langid.length > 0) filled++;\n  if (u.qualification) filled++;\n  if (u.experience) filled++;\n  if (u.usertype) filled++;\n  filled++; // countryCode always 'IN'\n  if (u.stateid) filled++;\n  if (u.districtid) filled++;\n  if (u.pincode) filled++;\n  if (u.placeid || (typeof (u as any).customPlace === 'string' && (u as any).customPlace)) filled++;\n  if (u.pic || photoFile) filled++;\n  return Math.round((filled / TOTAL_REQUIRED) * 100);\n}\n\nfunction progressColor(p: number): string {\n  if (p < 40) return '#ef4444';\n  if (p < 70) return '#f59e0b';\n  return '#22c55e';\n}\n\n// â”€â”€â”€ Component â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nexport default function ProfilePage() {\n  const { locale } = useParams<{ locale: string }>();\n  const router = useRouter();\n\n  // Auth + loading\n  const [token, setToken] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  // User profile data (form state)\n  const [fname, setFname] = useState('');\n  const [lname, setLname] = useState('');\n  const [whatsapp, setWhatsapp] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [gender, setGender] = useState('');\n  const [dob, setDob] = useState('');\n  const [langid, setLangid] = useState<number[]>([]);\n  const [qualification, setQualification] = useState('');\n  const [experience, setExperience] = useState('');\n  const [usertype, setUsertype] = useState('GW');\n  const [stateid, setStateid] = useState<number | null>(null);\n  const [districtid, setDistrictid] = useState<number | null>(null);\n  const [pincode, setPincode] = useState('');\n  const [placeid, setPlaceid] = useState<number | null>(null);\n  const [customPlace, setCustomPlace] = useState('');\n  const [showCustomPlace, setShowCustomPlace] = useState(false);\n  const [placeSuggestions, setPlaceSuggestions] = useState<any[]>([]);\n\n  // Fuzzy match: find similar place names from existing list\n  const fuzzyMatchPlaces = (input: string, placeList: any[]) => {\n    if (!input || input.length < 2 || placeList.length === 0) return [];\n    const needle = input.toLowerCase().trim();\n    return placeList\n      .map(p => {\n        const name = (p.place || p.name || '').toLowerCase();\n        // Check contains\n        if (name.includes(needle) || needle.includes(name)) return { ...p, score: 0.9 };\n        // Simple character overlap similarity\n        const longer = name.length > needle.length ? name : needle;\n        const shorter = name.length > needle.length ? needle : name;\n        let matches = 0;\n        for (let i = 0; i < shorter.length; i++) {\n          if (longer.includes(shorter[i])) matches++;\n        }\n        const score = matches / longer.length;\n        return { ...p, score };\n      })\n      .filter(p => p.score >= 0.6)\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 3);\n  };\n  const [pic, setPic] = useState<string | null>(null);\n\n  // Photo: selfie camera + upload fallback\n  const [photoFile, setPhotoFile] = useState<File | null>(null);\n  const [photoPreview, setPhotoPreview] = useState<string | null>(null);\n  const [cameraActive, setCameraActive] = useState(false);\n  const [cameraError, setCameraError] = useState(false);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const streamRef = useRef<MediaStream | null>(null);\n  const fileRef = useRef<HTMLInputElement>(null);\n\n  // Master data for dropdowns\n  const [languages, setLanguages] = useState<MasterItem[]>([]);\n  const [states, setStates] = useState<MasterItem[]>([]);\n  const [districts, setDistricts] = useState<MasterItem[]>([]);\n  const [pincodes, setPincodes] = useState<MasterItem[]>([]);\n  const [places, setPlaces] = useState<MasterItem[]>([]);\n  const [langSearch, setLangSearch] = useState('');\n  const [langDropOpen, setLangDropOpen] = useState(false);\n\n  // OTP states â€” mobile (4-digit)\n  const [mobileOtp, setMobileOtp] = useState(['', '', '', '']);\n  const [mobileOtpSent, setMobileOtpSent] = useState(false);\n  const [mobileVerified, setMobileVerified] = useState(false);\n  const [mobileLoading, setMobileLoading] = useState(false);\n  const [mobileCountdown, setMobileCountdown] = useState(0);\n  const mobileOtpRefs = useRef<(HTMLInputElement | null)[]>([]);\n\n  // OTP states â€” email (6-digit)\n  const [emailOtp, setEmailOtp] = useState(['', '', '', '', '', '']);\n  const [emailOtpSent, setEmailOtpSent] = useState(false);\n  const [emailVerified, setEmailVerified] = useState(false);\n  const [emailLoading, setEmailLoading] = useState(false);\n  const [emailCountdown, setEmailCountdown] = useState(0);\n  const emailOtpRefs = useRef<(HTMLInputElement | null)[]>([]);\n\n  // â”€â”€â”€ Countdown timers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  useEffect(() => {\n    if (mobileCountdown <= 0) return;\n    const t = setInterval(() => setMobileCountdown(c => c <= 1 ? 0 : c - 1), 1000);\n    return () => clearInterval(t);\n  }, [mobileCountdown]);\n\n  useEffect(() => {\n    if (emailCountdown <= 0) return;\n    const t = setInterval(() => setEmailCountdown(c => c <= 1 ? 0 : c - 1), 1000);\n    return () => clearInterval(t);\n  }, [emailCountdown]);\n\n  // â”€â”€â”€ Fetch helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const authFetch = useCallback(async (url: string, opts?: RequestInit) => {\n    return fetch(url, {\n      ...opts,\n      headers: { ...opts?.headers, Authorization: `Bearer ${token}` },\n    });\n  }, [token]);\n\n  // â”€â”€â”€ Load profile on mount â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  useEffect(() => {\n    const t = getCookie('saubh_token');\n    if (!t) { router.replace(`/${locale}/login`); return; }\n    setToken(t);\n\n    (async () => {\n      try {\n        const res = await fetch(`${API}/auth/profile`, {\n          headers: { Authorization: `Bearer ${t}` },\n        });\n        if (!res.ok) { router.replace(`/${locale}/login`); return; }\n        const data = await res.json();\n        if (data.isComplete) { router.replace(`/${locale}/dashboard`); return; }\n\n        const u = data.user as UserProfile;\n        setFname(u.fname || '');\n        setLname(u.lname || '');\n        setWhatsapp(u.whatsapp || '');\n        setEmail(u.email || '');\n        setPhone(u.phone || '');\n        setGender(u.gender || '');\n        setDob(u.dob ? u.dob.split('T')[0] : '');\n        setLangid(u.langid || []);\n        setQualification(u.qualification || '');\n        setExperience(u.experience || '');\n        setUsertype(u.usertype || 'GW');\n        setStateid(u.stateid || null);\n        setDistrictid(u.districtid || null);\n        setPincode(u.pincode || '');\n        setPlaceid(u.placeid ? Number(u.placeid) : null);\n        setPic(u.pic || null);\n\n        // Restore verification status from backend\n        if (data.emailVerified) setEmailVerified(true);\n        if (data.phoneVerified) setMobileVerified(true);\n      } catch { router.replace(`/${locale}/login`); return; }\n      setLoading(false);\n    })();\n  }, [locale, router]);\n\n  // â”€â”€â”€ Load master data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  useEffect(() => {\n    fetch(`${API}/master/geo/languages`).then(r => r.json()).then(d => setLanguages(d.data || [])).catch(() => {});\n    fetch(`${API}/master/geo/states`).then(r => r.json()).then(d => setStates(d.data || [])).catch(() => {});\n  }, []);\n\n  useEffect(() => {\n    setDistricts([]); setPincodes([]); setPlaces([]);\n    if (!stateid) return;\n    fetch(`${API}/master/geo/districts?stateId=${stateid}`).then(r => r.json()).then(d => setDistricts(d.data || [])).catch(() => {});\n  }, [stateid]);\n\n  useEffect(() => {\n    setPincodes([]); setPlaces([]);\n    if (!districtid) return;\n    fetch(`${API}/master/geo/pincodes?districtId=${districtid}`).then(r => r.json()).then(d => setPincodes(d.data || [])).catch(() => {});\n  }, [districtid]);\n\n  useEffect(() => {\n    setPlaces([]);\n    if (!pincode) return;\n    fetch(`${API}/master/geo/places?pincode=${pincode}`).then(r => r.json()).then(d => setPlaces(d.data || [])).catch(() => {});\n  }, [pincode]);\n\n  // â”€â”€â”€ Progress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const progress = calcProgress({\n    fname, lname, email, phone, gender, dob, langid, qualification,\n    experience, usertype, stateid, districtid, pincode, placeid, pic,\n  }, photoFile);\n\n  // â”€â”€â”€ Selfie Camera â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const startCamera = async () => {\n    setCameraError(false);\n    setError('');\n    // Stop any existing stream first (prevents \"device busy\")\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(t => t.stop());\n      streamRef.current = null;\n    }\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: { facingMode: 'user', width: { ideal: 640 }, height: { ideal: 640 } },\n        audio: false,\n      }).catch(async (firstErr) => {\n        // Retry once with relaxed constraints (fixes \"Starting videoinput failed\")\n        console.warn('Camera first attempt failed, retrying with basic constraints...', firstErr);\n        return navigator.mediaDevices.getUserMedia({ video: true, audio: false });\n      });\n      streamRef.current = stream;\n      // Video element renders when cameraActive=true, so connect stream via useEffect\n      setCameraActive(true);\n    } catch (err: any) {\n      console.error('Camera access denied:', err);\n      const msg = err?.message || String(err);\n      setCameraError(true);\n      // Show error to user instead of silent fallback\n      if (msg.includes('Permission denied') || msg.includes('NotAllowedError')) {\n        setError('Camera permission denied. Please allow camera access in your browser settings, or upload a photo instead.');\n      } else if (msg.includes('NotFoundError') || msg.includes('DevicesNotFound')) {\n        setError('No camera found on this device. Please upload a photo instead.');\n      } else if (msg.includes('NotReadableError') || msg.includes('TrackStartError')) {\n        setError('Camera is busy â€” close other tabs or apps using the camera, then try again. Or upload a photo below.');\n      } else {\n        setError(`Camera error: ${msg}. You can upload a photo instead.`);\n      }\n    }\n  };\n\n  const capturePhoto = async () => {\n    if (!videoRef.current || !canvasRef.current) {\n      console.error('capturePhoto: refs missing', { video: !!videoRef.current, canvas: !!canvasRef.current });\n      setError('Camera not ready. Please wait a moment and try again.');\n      return;\n    }\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    if (video.videoWidth === 0 || video.videoHeight === 0) {\n      // Try waiting briefly for metadata\n      await new Promise(r => setTimeout(r, 500));\n      if (video.videoWidth === 0 || video.videoHeight === 0) {\n        setError('Camera still loading. Please wait a moment and tap Capture again.');\n        return;\n      }\n    }\n    const size = Math.min(video.videoWidth, video.videoHeight);\n    canvas.width = size;\n    canvas.height = size;\n    const ctx = canvas.getContext('2d')!;\n    // Center-crop to square\n    const sx = (video.videoWidth - size) / 2;\n    const sy = (video.videoHeight - size) / 2;\n    // Mirror for selfie\n    ctx.translate(size, 0);\n    ctx.scale(-1, 1);\n    ctx.drawImage(video, sx, sy, size, size, 0, 0, size, size);\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n\n    canvas.toBlob((blob) => {\n      if (!blob) return;\n      const file = new File([blob], 'selfie.jpg', { type: 'image/jpeg' });\n      setPhotoFile(file);\n      setPhotoPreview(URL.createObjectURL(blob));\n      stopCamera();\n    }, 'image/jpeg', 0.9);\n  };\n\n  const stopCamera = () => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(t => t.stop());\n      streamRef.current = null;\n    }\n    setCameraActive(false);\n  };\n\n  const retakePhoto = () => {\n    setPhotoFile(null);\n    setPhotoPreview(null);\n    startCamera();\n  };\n\n  // Connect stream to video element when camera becomes active\n  useEffect(() => {\n    if (cameraActive && streamRef.current && videoRef.current) {\n      const v = videoRef.current;\n      v.srcObject = streamRef.current;\n      v.onloadedmetadata = () => {\n        v.play().catch(() => {});\n      };\n    }\n  }, [cameraActive]);\n\n  // Cleanup camera on unmount + page visibility change\n  useEffect(() => {\n    const cleanup = () => {\n      if (streamRef.current) {\n        streamRef.current.getTracks().forEach(t => { try { t.stop(); } catch {} });\n        streamRef.current = null;\n      }\n      setCameraActive(false);\n    };\n    const handleVisibility = () => {\n      if (document.visibilityState === 'hidden') cleanup();\n    };\n    const handleUnload = () => cleanup();\n    document.addEventListener('visibilitychange', handleVisibility);\n    window.addEventListener('beforeunload', handleUnload);\n    return () => {\n      cleanup();\n      document.removeEventListener('visibilitychange', handleVisibility);\n      window.removeEventListener('beforeunload', handleUnload);\n    };\n  }, []);\n\n  // â”€â”€â”€ File upload fallback â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const handlePhoto = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    if (!file.type.startsWith('image/')) { setError('Only image files allowed.'); return; }\n    if (file.size > 5 * 1024 * 1024) { setError('Photo must be under 5MB.'); return; }\n    setPhotoFile(file);\n    setPhotoPreview(URL.createObjectURL(file));\n    setError('');\n  };\n\n  // â”€â”€â”€ OTP helpers: generic box input handler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const handleOtpBoxChange = (\n    index: number, value: string, digits: number,\n    otpArr: string[], setOtp: (v: string[]) => void,\n    refs: React.MutableRefObject<(HTMLInputElement | null)[]>,\n    autoVerify?: () => void,\n  ) => {\n    if (!/^\\d?$/.test(value)) return;\n    const newOtp = [...otpArr];\n    newOtp[index] = value;\n    setOtp(newOtp);\n    if (value && index < digits - 1) refs.current[index + 1]?.focus();\n    if (value && index === digits - 1 && newOtp.every(d => d !== '') && autoVerify) autoVerify();\n  };\n\n  const handleOtpBoxKeyDown = (\n    index: number, e: React.KeyboardEvent,\n    otpArr: string[],\n    refs: React.MutableRefObject<(HTMLInputElement | null)[]>,\n  ) => {\n    if (e.key === 'Backspace' && !otpArr[index] && index > 0) refs.current[index - 1]?.focus();\n  };\n\n  const handleOtpBoxPaste = (\n    e: React.ClipboardEvent, digits: number,\n    setOtp: (v: string[]) => void,\n    refs: React.MutableRefObject<(HTMLInputElement | null)[]>,\n    autoVerify?: () => void,\n  ) => {\n    e.preventDefault();\n    const pasted = e.clipboardData.getData('text').replace(/\\D/g, '').slice(0, digits);\n    if (pasted.length === digits) {\n      const arr = pasted.split('');\n      setOtp(arr);\n      refs.current[digits - 1]?.focus();\n      if (autoVerify) autoVerify();\n    }\n  };\n\n  // â”€â”€â”€ Send OTP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const sendOtp = async (type: 'mobile' | 'email', value: string) => {\n    if (!token || !value.trim()) return;\n    const setL = type === 'mobile' ? setMobileLoading : setEmailLoading;\n    const setSent = type === 'mobile' ? setMobileOtpSent : setEmailOtpSent;\n    const setCD = type === 'mobile' ? setMobileCountdown : setEmailCountdown;\n    setL(true);\n    setError('');\n    try {\n      const res = await authFetch(`${API}/auth/profile/send-otp`, {\n        method: 'POST', headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type, value: value.trim() }),\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setSent(true);\n        setCD(data.expiresIn || 120);\n        if (type === 'mobile') {\n          setMobileOtp(['', '', '', '']);\n          setTimeout(() => mobileOtpRefs.current[0]?.focus(), 100);\n        } else {\n          setEmailOtp(['', '', '', '', '', '']);\n          setTimeout(() => emailOtpRefs.current[0]?.focus(), 100);\n        }\n      } else {\n        setError(data.message || `Failed to send ${type} OTP.`);\n      }\n    } catch { setError('Network error.'); }\n    setL(false);\n  };\n\n  // â”€â”€â”€ Verify OTP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const verifyOtp = async (type: 'mobile' | 'email', value: string, otpCode: string) => {\n    if (!token || !otpCode.trim()) return;\n    const setL = type === 'mobile' ? setMobileLoading : setEmailLoading;\n    const setV = type === 'mobile' ? setMobileVerified : setEmailVerified;\n    setL(true);\n    try {\n      const res = await authFetch(`${API}/auth/profile/verify-otp`, {\n        method: 'POST', headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type, value: value.trim(), otp: otpCode.trim() }),\n      });\n      if (res.ok) { setV(true); setError(''); }\n      else {\n        const d = await res.json().catch(() => ({}));\n        setError(d.message || `Invalid or expired ${type} OTP.`);\n      }\n    } catch { setError('Network error.'); }\n    setL(false);\n  };\n\n\n  // â”€â”€â”€ Auto-verify when all OTP digits are entered â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  useEffect(() => {\n    const code = emailOtp.join('');\n    if (code.length === 6 && /^\\d{6}$/.test(code) && !emailVerified && !emailLoading && emailOtpSent) {\n      verifyOtp('email', email, code);\n    }\n  }, [emailOtp]);\n\n  useEffect(() => {\n    const code = mobileOtp.join('');\n    if (code.length === 4 && /^\\d{4}$/.test(code) && !mobileVerified && !mobileLoading && mobileOtpSent) {\n      verifyOtp('mobile', phone, code);\n    }\n  }, [mobileOtp]);\n\n  // â”€â”€â”€ Submit â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const handleSubmit = async (e: FormEvent, mode: 'draft' | 'complete' = 'complete') => {\n    e.preventDefault();\n    setError(''); setSuccess('');\n\n    // Basic validation â€” always required even for draft\n    if (!fname.trim()) { setError('First name is required.'); return; }\n\n    // Full validation only for \"complete\" mode\n    if (mode === 'complete') {\n      if (!lname.trim()) { setError('Last name is required.'); return; }\n      if (!email.trim()) { setError('Email is required.'); return; }\n      if (!emailVerified) { setError('Please verify your email to complete your profile.'); return; }\n      if (!phone.trim()) { setError('Alternate mobile is required.'); return; }\n      if (!mobileVerified) { setError('Please verify your mobile to complete your profile.'); return; }\n      if (!gender) { setError('Gender is required.'); return; }\n      if (!dob) { setError('Date of birth is required.'); return; }\n      if (langid.length === 0) { setError('Select at least one language.'); return; }\n      if (!qualification.trim()) { setError('Qualification is required.'); return; }\n      if (!experience.trim()) { setError('Experience is required.'); return; }\n      if (!usertype) { setError('Please select your role.'); return; }\n      if (!stateid) { setError('State is required.'); return; }\n      if (!districtid) { setError('District is required.'); return; }\n      if (!pincode) { setError('Pin code is required.'); return; }\n      if (!placeid && !customPlace.trim()) { setError('Place is required.'); return; }\n      if (!pic && !photoFile) { setError('Please take a selfie or upload a photo.'); return; }\n    }\n\n    setSubmitting(true);\n\n    try {\n      // 1. Upload photo if selected\n      if (photoFile) {\n        const fd = new FormData();\n        fd.append('photo', photoFile);\n        const photoRes = await authFetch(`${API}/auth/profile/photo`, { method: 'POST', body: fd });\n        if (!photoRes.ok) { setError('Photo upload failed.'); setSubmitting(false); return; }\n        // Update pic state after successful upload\n        const photoData = await photoRes.json().catch(() => ({}));\n        if (photoData.pic) setPic(photoData.pic);\n      }\n\n      // 2. Patch profile â€” include all filled fields\n      const body: Record<string, any> = {\n        fname: fname.trim(),\n        usertype,\n        countryCode: 'IN',\n      };\n      if (lname.trim()) body.lname = lname.trim();\n      if (email.trim()) body.email = email.trim();\n      if (phone.trim()) body.phone = phone.trim();\n      if (gender) body.gender = gender;\n      if (dob) body.dob = dob;\n      if (langid.length > 0) body.langid = langid;\n      if (qualification.trim()) body.qualification = qualification.trim();\n      if (experience.trim()) body.experience = experience.trim();\n      if (stateid) body.stateid = stateid;\n      if (districtid) body.districtid = districtid;\n      if (pincode) body.pincode = pincode;\n      if (placeid) body.placeid = placeid;\n      if (customPlace.trim()) body.customPlace = customPlace.trim();\n\n      const res = await authFetch(`${API}/auth/profile`, {\n        method: 'PATCH', headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body),\n      });\n\n      if (!res.ok) {\n        const d = await res.json().catch(() => ({}));\n        setError(d.message || 'Failed to save profile.'); setSubmitting(false); return;\n      }\n\n      const data = await res.json();\n      if (data.isComplete) {\n        document.cookie = `saubh_user=${encodeURIComponent(JSON.stringify(data.user))}; path=/; max-age=86400; SameSite=Lax`;\n        router.push(`/${locale}/dashboard`);\n      } else if (mode === 'draft') {\n        setSuccess('Profile saved! Complete verification to finish setup.');\n        setSubmitting(false);\n      } else {\n        // mode === 'complete' but isComplete is false\n        const missing = [];\n        if (!data.emailVerified) missing.push('email verification');\n        if (!data.phoneVerified) missing.push('mobile verification');\n        setError('Almost there! Still need: ' + (missing.length > 0 ? missing.join(' and ') : 'some required fields') + '.');\n        setSubmitting(false);\n      }\n    } catch { setError('Network error. Please try again.'); setSubmitting(false); }\n  };\n\n  // â”€â”€â”€ Language chip helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const addLang = (id: number) => { if (!langid.includes(id)) setLangid([...langid, id]); setLangSearch(''); setLangDropOpen(false); };\n  const removeLang = (id: number) => setLangid(langid.filter(l => l !== id));\n  const langName = (id: number) => languages.find(l => l.langid === id)?.language || `#${id}`;\n  const filteredLangs = languages.filter(l =>\n    !langid.includes(l.langid) && l.language?.toLowerCase().includes(langSearch.toLowerCase())\n  );\n\n  // â”€â”€â”€ Loading state â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  if (loading) {\n    return (\n      <>\n        <style>{baseStyles}</style>\n        <div className=\"pp\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <div className=\"pp-mesh\"><div className=\"pp-m1\" /><div className=\"pp-m2\" /><div className=\"pp-m3\" /></div>\n          <div style={{ fontSize: '1.1rem', color: '#66708a', fontFamily: 'Inter,system-ui,sans-serif' }}>Loading profile...</div>\n        </div>\n      </>\n    );\n  }\n\n  // â”€â”€â”€ Render â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  return (\n    <>\n      <style>{baseStyles}</style>\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\n      <div className=\"pp\">\n        <div className=\"pp-mesh\"><div className=\"pp-m1\" /><div className=\"pp-m2\" /><div className=\"pp-m3\" /></div>\n\n        <div className=\"pp-inner\">\n          {/* Logo */}\n          <div className=\"pp-head\">\n            <Image src=\"/logo.jpg\" alt=\"Saubh.Tech\" width={36} height={36} style={{ borderRadius: 10, boxShadow: '0 0 16px rgba(124,58,237,0.25)' }} />\n            <span className=\"pp-brand\">Saubh<span className=\"pp-dot\">.</span>Tech</span>\n          </div>\n\n          {/* Progress bar */}\n          <div className=\"pp-progress-wrap\">\n            <div className=\"pp-progress-label\">Profile {progress}% complete</div>\n            <div className=\"pp-progress-track\">\n              <div className=\"pp-progress-bar\" style={{ width: `${progress}%`, background: `linear-gradient(90deg, ${progressColor(progress)}, ${progress >= 70 ? '#06b6d4' : progressColor(progress)})` }} />\n            </div>\n          </div>\n\n          {/* Main card */}\n          <form className=\"pp-card\" onSubmit={handleSubmit}>\n            <div className=\"pp-card-top\" />\n            <div className=\"pp-grid\">\n\n              {/* â”€â”€ LEFT: Photo (selfie) + User Type â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}\n              <div className=\"pp-left\">\n\n                {/* Selfie camera area */}\n                {cameraActive ? (\n                  <div className=\"pp-camera-wrap\">\n                    <video\n                      ref={videoRef}\n                      autoPlay\n                      playsInline\n                      muted\n                      className=\"pp-camera-video\"\n                      style={{ transform: 'scaleX(-1)' }}\n                    />\n                    <div className=\"pp-camera-actions\">\n                      <button type=\"button\" className=\"pp-cam-btn pp-cam-capture\" onClick={capturePhoto}>\n                        ğŸ“¸ Capture\n                      </button>\n                      <button type=\"button\" className=\"pp-cam-btn pp-cam-cancel\" onClick={stopCamera}>\n                        âœ• Cancel\n                      </button>\n                    </div>\n                  </div>\n                ) : (photoPreview || pic) ? (\n                  <div className=\"pp-photo-area\">\n                    <img src={photoPreview || (pic?.startsWith('http') ? pic : `${API.replace('/api', '')}${pic?.startsWith('/api') ? pic : `/api${pic}`}`)} alt=\"Profile\" className=\"pp-photo-img\" />\n                    <div className=\"pp-photo-overlay\" onClick={retakePhoto}>\n                      <span>ğŸ“¸ Retake Selfie</span>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"pp-photo-area pp-photo-empty\" onClick={startCamera}>\n                    <svg width=\"48\" height=\"48\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"#7c3aed\" strokeWidth=\"1.5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z\" /></svg>\n                    <div className=\"pp-photo-text\">ğŸ“¸ Take a Selfie *</div>\n                    <div className=\"pp-photo-hint\">Camera will open for selfie</div>\n                    {cameraError && (\n                      <div className=\"pp-photo-fallback\" onClick={(e) => { e.stopPropagation(); fileRef.current?.click(); }}>\n                        Or upload a photo instead\n                      </div>\n                    )}\n                  </div>\n                )}\n                <input ref={fileRef} type=\"file\" accept=\"image/*\" onChange={handlePhoto} style={{ display: 'none' }} />\n                {!cameraActive && !photoPreview && !pic && (\n                  <div className=\"pp-upload-fallback\" onClick={() => fileRef.current?.click()}>\n                    ğŸ“ Upload instead\n                  </div>\n                )}\n                {photoFile && <div className=\"pp-photo-name\">{photoFile.name} ({(photoFile.size / 1024).toFixed(0)} KB)</div>}\n\n                {/* User Type selector */}\n                <div className=\"pp-field\" style={{ width: '100%', marginTop: '8px' }}>\n                  <label className=\"pp-label\">I am a *</label>\n                  <div className=\"pp-usertype-group\">\n                    {USERTYPE_OPTIONS.map(([k, v]) => (\n                      <button\n                        key={k}\n                        type=\"button\"\n                        className={`pp-usertype-btn${usertype === k ? ' pp-usertype-active' : ''}`}\n                        onClick={() => setUsertype(k)}\n                      >\n                        {k === 'BO' ? 'ğŸ¢' : k === 'CL' ? 'ğŸ‘¤' : 'âš¡'} {v}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              {/* â”€â”€ RIGHT: Form fields â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}\n              <div className=\"pp-right\">\n\n                {/* Row 1: Name */}\n                <div className=\"pp-row\">\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">First Name *</label>\n                    <input className=\"pp-input\" value={fname} onChange={e => setFname(e.target.value)} placeholder=\"First name\" />\n                  </div>\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">Last Name *</label>\n                    <input className=\"pp-input\" value={lname} onChange={e => setLname(e.target.value)} placeholder=\"Last name\" />\n                  </div>\n                </div>\n\n                {/* Row 2: Email + OTP (6-digit) */}\n                <div className=\"pp-row\">\n                  <div className=\"pp-field\" style={{ gridColumn: 'span 2' }}>\n                    <label className=\"pp-label\">\n                      Email * {emailVerified && <span className=\"pp-verified-badge\">âœ“ Verified</span>}\n                    </label>\n                    {!emailVerified ? (\n                      <div className=\"pp-verify-block\">\n                        <div className=\"pp-otp-row\">\n                          <input className=\"pp-input pp-otp-input\" type=\"email\" value={email}\n                            onChange={e => { setEmail(e.target.value); setEmailOtpSent(false); setEmailVerified(false); }}\n                            placeholder=\"your@email.com\" disabled={emailOtpSent && !emailVerified} />\n                          {!emailOtpSent && (\n                            <button type=\"button\" className=\"pp-otp-btn\" disabled={!email.trim() || emailLoading} onClick={() => sendOtp('email', email)}>\n                              {emailLoading ? '...' : 'Send Code'}\n                            </button>\n                          )}\n                        </div>\n                        {emailOtpSent && !emailVerified && (\n                          <div className=\"pp-otp-verify-section\">\n                            <div className=\"pp-otp-hint\">Enter 6-digit code sent to {email}</div>\n                            <div className=\"pp-otp-boxes\" onPaste={(e) => handleOtpBoxPaste(e, 6, setEmailOtp, emailOtpRefs, undefined)}>\n                              {emailOtp.map((d, i) => (\n                                <input\n                                  key={i}\n                                  ref={el => { emailOtpRefs.current[i] = el; }}\n                                  className={`pp-otp-box${d ? ' pp-otp-filled' : ''}`}\n                                  type=\"text\" inputMode=\"numeric\" maxLength={1} value={d}\n                                  onChange={e => handleOtpBoxChange(i, e.target.value, 6, emailOtp, setEmailOtp, emailOtpRefs,\n                                    undefined\n                                  )}\n                                  onKeyDown={e => handleOtpBoxKeyDown(i, e, emailOtp, emailOtpRefs)}\n                                  disabled={emailLoading}\n                                />\n                              ))}\n                            </div>\n                            <div className=\"pp-otp-meta\">\n                              {emailCountdown > 0 ? (\n                                <span className=\"pp-otp-timer\">Expires in {Math.floor(emailCountdown / 60)}:{(emailCountdown % 60).toString().padStart(2, '0')}</span>\n                              ) : (\n                                <span className=\"pp-otp-expired\">Code expired</span>\n                              )}\n                              {emailCountdown > 0 ? (\n                                <span className=\"pp-otp-resend\" style={{ opacity: emailCountdown > 550 ? 0.3 : 1, pointerEvents: emailCountdown > 550 ? 'none' : 'auto' }}\n                                  onClick={() => sendOtp('email', email)}>Resend</span>\n                              ) : (\n                                <button type=\"button\" className=\"pp-otp-btn\" style={{ height: '32px', fontSize: '.78rem', padding: '0 12px' }}\n                                  onClick={() => { setEmailOtpSent(false); setEmailOtp(['', '', '', '', '', '']); }}\n                                >Send New Code</button>\n                              )}\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    ) : (\n                      <input className=\"pp-input\" value={email} readOnly style={{ opacity: 0.7 }} />\n                    )}\n                  </div>\n                </div>\n\n                {/* Row 3: Mobile + OTP (4-digit) */}\n                <div className=\"pp-row\">\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">WhatsApp (registered)</label>\n                    <input className=\"pp-input\" value={whatsapp} readOnly style={{ opacity: 0.6 }} />\n                  </div>\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">\n                      Alternate Mobile * {mobileVerified && <span className=\"pp-verified-badge\">âœ“ Verified</span>}\n                    </label>\n                    {!mobileVerified ? (\n                      <div className=\"pp-verify-block\">\n                        <div className=\"pp-otp-row\">\n                          <input className=\"pp-input pp-otp-input\" value={phone}\n                            onChange={e => { setPhone(e.target.value); setMobileOtpSent(false); setMobileVerified(false); }}\n                            placeholder=\"Alt. mobile\" disabled={mobileOtpSent && !mobileVerified} />\n                          {!mobileOtpSent && (\n                            <button type=\"button\" className=\"pp-otp-btn\" disabled={!phone.trim() || mobileLoading} onClick={() => sendOtp('mobile', phone)}>\n                              {mobileLoading ? '...' : 'OTP'}\n                            </button>\n                          )}\n                        </div>\n                        {mobileOtpSent && !mobileVerified && (\n                          <div className=\"pp-otp-verify-section\">\n                            <div className=\"pp-otp-hint\">Enter 4-digit code sent via WhatsApp</div>\n                            <div className=\"pp-otp-boxes\" onPaste={(e) => handleOtpBoxPaste(e, 4, setMobileOtp, mobileOtpRefs, () => verifyOtp('mobile', phone, mobileOtp.join('')))}>\n                              {mobileOtp.map((d, i) => (\n                                <input\n                                  key={i}\n                                  ref={el => { mobileOtpRefs.current[i] = el; }}\n                                  className={`pp-otp-box${d ? ' pp-otp-filled' : ''}`}\n                                  type=\"text\" inputMode=\"numeric\" maxLength={1} value={d}\n                                  onChange={e => handleOtpBoxChange(i, e.target.value, 4, mobileOtp, setMobileOtp, mobileOtpRefs,\n                                    undefined\n                                  )}\n                                  onKeyDown={e => handleOtpBoxKeyDown(i, e, mobileOtp, mobileOtpRefs)}\n                                  disabled={mobileLoading}\n                                />\n                              ))}\n                            </div>\n                            <div className=\"pp-otp-meta\">\n                              {mobileCountdown > 0 ? (\n                                <span className=\"pp-otp-timer\">Expires in {Math.floor(mobileCountdown / 60)}:{(mobileCountdown % 60).toString().padStart(2, '0')}</span>\n                              ) : (\n                                <span className=\"pp-otp-expired\">Code expired</span>\n                              )}\n                              {mobileCountdown > 0 ? (\n                                <span className=\"pp-otp-resend\" style={{ opacity: mobileCountdown > 250 ? 0.3 : 1, pointerEvents: mobileCountdown > 250 ? 'none' : 'auto' }}\n                                  onClick={() => sendOtp('mobile', phone)}>Resend</span>\n                              ) : (\n                                <button type=\"button\" className=\"pp-otp-btn\" style={{ height: '32px', fontSize: '.78rem', padding: '0 12px' }}\n                                  onClick={() => { setMobileOtpSent(false); setMobileOtp(['', '', '', '']); }}\n                                >Send New Code</button>\n                              )}\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    ) : (\n                      <input className=\"pp-input\" value={phone} readOnly style={{ opacity: 0.7 }} />\n                    )}\n                  </div>\n                </div>\n\n                {/* Row 4: Gender + DOB */}\n                <div className=\"pp-row\">\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">Gender *</label>\n                    <select className=\"pp-input pp-select\" value={gender} onChange={e => setGender(e.target.value)}>\n                      <option value=\"\">Select gender</option>\n                      {GENDER_OPTIONS.map(([k, v]) => <option key={k} value={k}>{v}</option>)}\n                    </select>\n                  </div>\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">Date of Birth *</label>\n                    <input className=\"pp-input\" type=\"date\" value={dob} onChange={e => setDob(e.target.value)} max={new Date().toISOString().split('T')[0]} />\n                  </div>\n                </div>\n\n                {/* Row 5: Languages */}\n                <div className=\"pp-row\">\n                  <div className=\"pp-field\" style={{ gridColumn: 'span 2', position: 'relative' }}>\n                    <label className=\"pp-label\">Languages * (select at least one)</label>\n                    <div className=\"pp-chips-wrap\">\n                      {langid.map(id => (\n                        <span key={id} className=\"pp-chip\">\n                          {langName(id)}\n                          <button type=\"button\" className=\"pp-chip-x\" onClick={() => removeLang(id)}>Ã—</button>\n                        </span>\n                      ))}\n                      <input\n                        className=\"pp-chip-input\"\n                        value={langSearch}\n                        onChange={e => { setLangSearch(e.target.value); setLangDropOpen(true); }}\n                        onFocus={() => setLangDropOpen(true)}\n                        placeholder={langid.length ? 'Add more...' : 'Search languages...'}\n                      />\n                    </div>\n                    {langDropOpen && filteredLangs.length > 0 && (\n                      <div className=\"pp-lang-drop\">\n                        {filteredLangs.slice(0, 12).map(l => (\n                          <div key={l.langid} className=\"pp-lang-opt\" onClick={() => addLang(l.langid)}>{l.language}</div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Row 6: Qualification + Experience */}\n                <div className=\"pp-row\">\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">Qualification *</label>\n                    <input className=\"pp-input\" value={qualification} onChange={e => setQualification(e.target.value)} placeholder=\"e.g. B.Tech, MBA\" />\n                  </div>\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">Experience *</label>\n                    <input className=\"pp-input\" value={experience} onChange={e => setExperience(e.target.value)} placeholder=\"e.g. 3 years\" />\n                  </div>\n                </div>\n\n                {/* Row 7: Country + State */}\n                <div className=\"pp-row\">\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">Country</label>\n                    <input className=\"pp-input\" value=\"India\" readOnly style={{ opacity: 0.6 }} />\n                  </div>\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">State *</label>\n                    <select className=\"pp-input pp-select\" value={stateid || ''} onChange={e => { setStateid(e.target.value ? +e.target.value : null); setDistrictid(null); setPincode(''); setPlaceid(null); }}>\n                      <option value=\"\">Select state</option>\n                      {states.map((s: any) => <option key={s.stateid} value={s.stateid}>{s.state}</option>)}\n                    </select>\n                  </div>\n                </div>\n\n                {/* Row 8: District + Pincode */}\n                <div className=\"pp-row\">\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">District *</label>\n                    <select className=\"pp-input pp-select\" value={districtid || ''} onChange={e => { setDistrictid(e.target.value ? +e.target.value : null); setPincode(''); setPlaceid(null); }} disabled={!stateid}>\n                      <option value=\"\">{stateid ? 'Select district' : 'Select state first'}</option>\n                      {districts.map((d: any) => <option key={d.districtid} value={d.districtid}>{d.district}</option>)}\n                    </select>\n                  </div>\n                  <div className=\"pp-field\">\n                    <label className=\"pp-label\">Pin Code *</label>\n                    <select className=\"pp-input pp-select\" value={pincode} onChange={e => { setPincode(e.target.value); setPlaceid(null); }} disabled={!districtid}>\n                      <option value=\"\">{districtid ? 'Select pincode' : 'Select district first'}</option>\n                      {pincodes.map((p: any) => <option key={p.postid} value={p.pincode}>{p.pincode} â€” {p.postoffice}</option>)}\n                    </select>\n                  </div>\n                </div>\n\n                {/* Row 9: Place */}\n                <div className=\"pp-row\">\n                  <div className=\"pp-field\" style={{ gridColumn: 'span 2' }}>\n                    <label className=\"pp-label\">Place *</label>\n                    {!showCustomPlace ? (\n                      <div style={{ display: 'flex', flexDirection: 'column', gap: '6px' }}>\n                        <select className=\"pp-input pp-select\" value={placeid || ''} onChange={e => { setPlaceid(e.target.value ? +e.target.value : null); setCustomPlace(''); }} disabled={!pincode}>\n                          <option value=\"\">{pincode ? 'Select place' : 'Select pincode first'}</option>\n                          {places.map((p: any) => <option key={p.placeid} value={Number(p.placeid)}>{p.place}</option>)}\n                        </select>\n                        {pincode && (\n                          <span className=\"pp-custom-place-link\" onClick={() => { setShowCustomPlace(true); setPlaceid(null); }}>\n                            + Add new place (not in list)\n                          </span>\n                        )}\n                      </div>\n                    ) : (\n                      <div style={{ display: 'flex', flexDirection: 'column', gap: '6px' }}>\n                        <input\n                          className=\"pp-input\"\n                          value={customPlace}\n                          onChange={e => {\n                            const val = e.target.value;\n                            setCustomPlace(val);\n                            setPlaceSuggestions(fuzzyMatchPlaces(val, places));\n                          }}\n                          placeholder=\"Enter your place name\"\n                        />\n                        {placeSuggestions.length > 0 && customPlace.length >= 2 && (\n                          <div style={{ background: '#f0fdf4', border: '1px solid #86efac', borderRadius: '8px', padding: '8px 12px' }}>\n                            <span style={{ fontSize: '.72rem', color: '#16a34a', fontWeight: 600 }}>Did you mean:</span>\n                            {placeSuggestions.map((s: any) => (\n                              <div\n                                key={s.placeid}\n                                onClick={() => {\n                                  setPlaceid(Number(s.placeid));\n                                  setCustomPlace('');\n                                  setShowCustomPlace(false);\n                                  setPlaceSuggestions([]);\n                                }}\n                                style={{\n                                  padding: '6px 10px', margin: '4px 0', cursor: 'pointer',\n                                  borderRadius: '6px', fontSize: '.85rem', fontWeight: 500,\n                                  background: 'white', border: '1px solid #d1fae5',\n                                  transition: '.15s',\n                                }}\n                                onMouseEnter={e => (e.currentTarget.style.background = '#dcfce7')}\n                                onMouseLeave={e => (e.currentTarget.style.background = 'white')}\n                              >\n                                âœ… {s.place || s.name}\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                        {placeSuggestions.length === 0 && customPlace.length >= 3 && (\n                          <span style={{ fontSize: '.72rem', color: '#6b7280', fontStyle: 'italic' }}>\n                            No similar place found â€” your entry will be reviewed and added to our directory\n                          </span>\n                        )}\n                        <span className=\"pp-custom-place-link\" onClick={() => { setShowCustomPlace(false); setCustomPlace(''); setPlaceSuggestions([]); }}>\n                          â† Select from list instead\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Error / Success */}\n                {error && <div className=\"pp-error\">{error}</div>}\n                {success && <div className=\"pp-success\">{success}</div>}\n\n                {/* Submit */}\n                <div className=\"pp-submit-row\">\n                  <button\n                    type=\"button\"\n                    className=\"pp-draft-btn\"\n                    disabled={submitting}\n                    onClick={(e) => handleSubmit(e as any, 'draft')}\n                  >\n                    {submitting ? 'Saving...' : 'ğŸ’¾ Save Draft'}\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"pp-submit-btn\"\n                    disabled={submitting || !emailVerified || !mobileVerified}\n                    onClick={(e) => { e.preventDefault(); handleSubmit(e as any, 'complete'); }}\n                  >\n                    {submitting ? 'Saving...' : !emailVerified || !mobileVerified\n                      ? 'ğŸ”’ Verify to Complete'\n                      : 'Save & Continue â†’'}\n                  </button>\n                </div>\n\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\n// â”€â”€â”€ Styles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nconst baseStyles = `\n@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');\n\n*{box-sizing:border-box;margin:0;padding:0;}\n\n.pp{\n  min-height:100vh;padding:20px;\n  font-family:'Inter',system-ui,sans-serif;color:#15192d;\n  background:#f4f0ff;position:relative;overflow-x:hidden;\n}\n\n/* Mesh blobs */\n.pp-mesh{position:fixed;inset:0;z-index:0;pointer-events:none;}\n.pp-mesh div{position:absolute;border-radius:50%;filter:blur(120px);opacity:.35;animation:ppdrift 16s ease-in-out infinite alternate;}\n.pp-m1{width:500px;height:500px;top:-8%;left:-5%;background:#7c3aed;}\n.pp-m2{width:400px;height:400px;top:30%;right:-8%;background:#06b6d4;animation-delay:-4s!important;}\n.pp-m3{width:350px;height:350px;bottom:-5%;left:40%;background:#22c55e;animation-delay:-8s!important;opacity:.2;}\n@keyframes ppdrift{0%{transform:translate(0,0) scale(1);}50%{transform:translate(25px,-20px) scale(1.08);}100%{transform:translate(-15px,20px) scale(.95);}}\n\n.pp-inner{position:relative;z-index:1;max-width:920px;margin:0 auto;}\n\n/* Header */\n.pp-head{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:14px;}\n.pp-brand{font-weight:800;font-size:1.4rem;color:#15192d;}\n.pp-dot{background:linear-gradient(135deg,#7c3aed,#06b6d4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}\n\n/* Progress */\n.pp-progress-wrap{margin-bottom:16px;}\n.pp-progress-label{font-size:.82rem;font-weight:600;color:#66708a;margin-bottom:6px;text-align:center;}\n.pp-progress-track{height:8px;border-radius:8px;background:rgba(124,58,237,0.1);overflow:hidden;}\n.pp-progress-bar{height:100%;border-radius:8px;transition:width .4s ease, background .4s ease;}\n\n/* Card */\n.pp-card{\n  position:relative;border-radius:20px;overflow:hidden;\n  background:rgba(255,255,255,0.82);\n  border:1px solid rgba(124,58,237,0.12);\n  backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);\n  box-shadow:0 8px 40px rgba(124,58,237,0.06),0 1px 3px rgba(0,0,0,0.04);\n}\n.pp-card-top{height:3px;background:linear-gradient(90deg,#7c3aed,#06b6d4);}\n\n.pp-grid{display:grid;grid-template-columns:260px 1fr;gap:0;}\n\n/* Left panel */\n.pp-left{padding:28px 24px;border-right:1px solid rgba(124,58,237,0.08);display:flex;flex-direction:column;align-items:center;gap:12px;}\n\n/* Photo area */\n.pp-photo-area{\n  width:210px;height:210px;border-radius:18px;overflow:hidden;position:relative;\n  border:2px dashed rgba(124,58,237,0.25);\n  display:flex;align-items:center;justify-content:center;\n  transition:.25s;background:rgba(124,58,237,0.03);\n}\n.pp-photo-empty{cursor:pointer;}\n.pp-photo-empty:hover{border-color:#7c3aed;background:rgba(124,58,237,0.06);}\n.pp-photo-img{width:100%;height:100%;object-fit:cover;}\n.pp-photo-overlay{\n  position:absolute;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;\n  opacity:0;transition:.25s;cursor:pointer;color:#fff;font-weight:600;font-size:.85rem;\n}\n.pp-photo-area:hover .pp-photo-overlay{opacity:1;}\n.pp-photo-text{font-size:.85rem;font-weight:600;color:#7c3aed;margin-top:10px;text-align:center;}\n.pp-photo-hint{font-size:.72rem;color:#66708a;margin-top:4px;text-align:center;}\n.pp-photo-fallback{font-size:.72rem;color:#7c3aed;margin-top:8px;cursor:pointer;text-decoration:underline;text-align:center;}\n.pp-upload-fallback{font-size:.78rem;color:#66708a;cursor:pointer;text-align:center;transition:.2s;}\n.pp-upload-fallback:hover{color:#7c3aed;}\n.pp-photo-name{font-size:.75rem;color:#66708a;text-align:center;word-break:break-all;}\n\n/* Camera */\n.pp-camera-wrap{width:210px;height:260px;border-radius:18px;overflow:hidden;display:flex;flex-direction:column;background:#000;border:2px solid #7c3aed;}\n.pp-camera-video{width:100%;flex:1;object-fit:cover;border-radius:16px 16px 0 0;}\n.pp-camera-actions{display:flex;gap:4px;padding:6px;}\n.pp-cam-btn{flex:1;padding:8px 0;border:none;border-radius:10px;font-weight:700;font-size:.8rem;cursor:pointer;font-family:'Inter',sans-serif;}\n.pp-cam-capture{background:linear-gradient(135deg,#7c3aed,#06b6d4);color:#fff;}\n.pp-cam-cancel{background:rgba(255,255,255,0.1);color:#fff;}\n.pp-cam-capture:hover{opacity:.9;}\n.pp-cam-cancel:hover{background:rgba(255,255,255,0.2);}\n\n/* User type buttons */\n.pp-usertype-group{display:flex;flex-direction:column;gap:6px;width:100%;}\n.pp-usertype-btn{\n  width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(124,58,237,0.15);\n  background:rgba(255,255,255,0.9);font-size:.82rem;font-weight:600;\n  font-family:'Inter',system-ui,sans-serif;color:#15192d;cursor:pointer;\n  transition:.2s;text-align:left;\n}\n.pp-usertype-btn:hover{border-color:#7c3aed;background:rgba(124,58,237,0.04);}\n.pp-usertype-active{\n  border-color:#7c3aed;background:linear-gradient(135deg,rgba(124,58,237,0.08),rgba(6,182,212,0.06));\n  color:#7c3aed;box-shadow:0 0 0 2px rgba(124,58,237,0.12);\n}\n\n/* Right panel */\n.pp-right{padding:24px 28px;display:flex;flex-direction:column;gap:14px;}\n.pp-row{display:grid;grid-template-columns:1fr 1fr;gap:12px;}\n.pp-field{display:flex;flex-direction:column;gap:4px;}\n.pp-label{font-size:.78rem;font-weight:600;color:#66708a;display:flex;align-items:center;gap:6px;}\n\n.pp-input{\n  height:40px;border-radius:10px;padding:0 12px;font-size:.88rem;\n  font-family:'Inter',system-ui,sans-serif;color:#15192d;outline:none;\n  background:rgba(255,255,255,0.9);border:1px solid rgba(124,58,237,0.15);\n  transition:.2s;width:100%;\n}\n.pp-input::placeholder{color:#a0a8c0;}\n.pp-input:focus{border-color:#7c3aed;box-shadow:0 0 0 3px rgba(124,58,237,0.1);}\n.pp-select{cursor:pointer;appearance:auto;}\n\n/* Verified badge */\n.pp-verified-badge{\n  display:inline-flex;align-items:center;gap:2px;padding:1px 8px;border-radius:10px;\n  font-size:.7rem;font-weight:700;background:rgba(34,197,94,0.12);color:#16a34a;\n}\n\n/* OTP verification */\n.pp-verify-block{display:flex;flex-direction:column;gap:8px;}\n.pp-otp-row{display:flex;gap:6px;align-items:center;}\n.pp-otp-input{flex:1;}\n.pp-otp-btn{\n  height:40px;padding:0 14px;border-radius:10px;border:none;\n  background:linear-gradient(135deg,#7c3aed,#06b6d4);color:#fff;\n  font-weight:700;font-size:.82rem;cursor:pointer;white-space:nowrap;\n  font-family:'Inter',system-ui,sans-serif;transition:.2s;\n}\n.pp-otp-btn:hover{opacity:.9;transform:translateY(-1px);}\n.pp-otp-btn:disabled{opacity:.4;cursor:not-allowed;transform:none;}\n\n.pp-otp-verify-section{display:flex;flex-direction:column;gap:6px;padding:10px;border-radius:10px;background:rgba(124,58,237,0.03);border:1px solid rgba(124,58,237,0.08);}\n.pp-otp-hint{font-size:.76rem;color:#66708a;font-weight:500;}\n.pp-otp-boxes{display:flex;gap:6px;justify-content:center;}\n.pp-otp-box{\n  width:42px;height:48px;border-radius:10px;text-align:center;font-size:1.3rem;font-weight:800;\n  font-family:'Inter',sans-serif;color:#15192d;outline:none;\n  background:rgba(255,255,255,0.9);border:2px solid rgba(124,58,237,0.15);transition:.2s;\n}\n.pp-otp-box:focus{border-color:#7c3aed;box-shadow:0 0 0 3px rgba(124,58,237,0.1);}\n.pp-otp-filled{border-color:rgba(124,58,237,0.5);background:rgba(124,58,237,0.04);}\n.pp-otp-meta{display:flex;justify-content:space-between;align-items:center;font-size:.74rem;}\n.pp-otp-timer{color:#66708a;font-weight:600;}\n.pp-otp-expired{color:#ef4444;font-weight:600;}\n.pp-otp-resend{color:#7c3aed;font-weight:700;cursor:pointer;}\n.pp-otp-resend:hover{text-decoration:underline;}\n\n/* Language chips */\n.pp-chips-wrap{\n  display:flex;flex-wrap:wrap;gap:6px;padding:6px 10px;min-height:40px;\n  border-radius:10px;border:1px solid rgba(124,58,237,0.15);\n  background:rgba(255,255,255,0.9);align-items:center;cursor:text;\n}\n.pp-chip{\n  display:inline-flex;align-items:center;gap:4px;\n  padding:3px 10px;border-radius:16px;font-size:.78rem;font-weight:600;\n  background:linear-gradient(135deg,rgba(124,58,237,0.12),rgba(6,182,212,0.1));\n  color:#7c3aed;\n}\n.pp-chip-x{border:none;background:none;color:#7c3aed;font-size:1rem;cursor:pointer;line-height:1;padding:0 2px;}\n.pp-chip-input{border:none;outline:none;background:none;flex:1;min-width:100px;font-size:.85rem;font-family:'Inter',system-ui,sans-serif;color:#15192d;}\n.pp-chip-input::placeholder{color:#a0a8c0;}\n\n.pp-lang-drop{\n  position:absolute;top:100%;left:0;right:0;z-index:10;\n  max-height:180px;overflow-y:auto;margin-top:4px;\n  background:#fff;border:1px solid rgba(124,58,237,0.15);\n  border-radius:10px;box-shadow:0 8px 24px rgba(0,0,0,0.08);\n}\n.pp-lang-opt{padding:8px 14px;font-size:.85rem;cursor:pointer;transition:.15s;}\n.pp-lang-opt:hover{background:rgba(124,58,237,0.06);}\n\n/* Error / Success */\n.pp-error{padding:10px 14px;border-radius:10px;font-size:.84rem;font-weight:500;background:rgba(239,68,68,0.08);color:#dc2626;border:1px solid rgba(239,68,68,0.15);}\n.pp-success{padding:10px 14px;border-radius:10px;font-size:.84rem;font-weight:500;background:rgba(34,197,94,0.08);color:#16a34a;border:1px solid rgba(34,197,94,0.15);}\n\n/* Submit */\n.pp-submit-row{display:flex;justify-content:flex-end;padding-top:4px;gap:12px;}\n/* Save Draft button */\n.pp-custom-place-link{\n  font-size:.78rem;color:#7c3aed;cursor:pointer;font-weight:600;\n  transition:.2s;user-select:none;\n}\n.pp-custom-place-link:hover{text-decoration:underline;color:#6d28d9;}\n\n.pp-draft-btn{\n  height:46px;padding:0 24px;border:2px solid rgba(124,58,237,0.3);border-radius:12px;\n  background:transparent;color:#7c3aed;\n  font-weight:700;font-size:.88rem;cursor:pointer;\n  font-family:'Inter',system-ui,sans-serif;transition:.2s;\n}\n.pp-draft-btn:hover{background:rgba(124,58,237,0.06);border-color:#7c3aed;}\n.pp-draft-btn:disabled{opacity:.4;cursor:not-allowed;}\n\n.pp-submit-btn{\n  height:46px;padding:0 36px;border:none;border-radius:12px;\n  background:linear-gradient(135deg,#7c3aed,#06b6d4);color:#fff;\n  font-weight:700;font-size:.95rem;cursor:pointer;\n  font-family:'Inter',system-ui,sans-serif;\n  box-shadow:0 6px 20px rgba(124,58,237,0.2);transition:.2s;\n}\n.pp-submit-btn:hover{transform:translateY(-2px);box-shadow:0 10px 28px rgba(124,58,237,0.3);}\n.pp-submit-btn:disabled{opacity:.5;cursor:not-allowed;transform:none;}\n\n/* Responsive */\n@media(max-width:720px){\n  .pp{padding:12px;}\n  .pp-grid{grid-template-columns:1fr;}\n  .pp-left{border-right:none;border-bottom:1px solid rgba(124,58,237,0.08);padding:20px;flex-direction:column;gap:12px;align-items:center;}\n  .pp-photo-area{width:140px;height:140px;flex:none;}\n  .pp-camera-wrap{width:140px;height:200px;}\n  .pp-usertype-group{flex-direction:row;flex-wrap:wrap;}\n  .pp-usertype-btn{flex:1;min-width:0;text-align:center;padding:8px 6px;font-size:.75rem;}\n  .pp-right{padding:18px 16px;}\n  .pp-row{grid-template-columns:1fr;}\n  .pp-row > .pp-field[style*=\"grid-column\"]{grid-column:span 1!important;}\n  .pp-submit-btn{width:100%;}\n  .pp-otp-box{width:36px;height:42px;font-size:1.1rem;}\n}\n`;\n"],"names":[],"mappings":"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"}